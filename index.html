<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SCTP Project 2 - Food Review Journal; The Tasty Chronicles</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <style>
      #formContainer {
        padding: 100px;
        background-color: #FFF8E1;
      }

      .formRow {
        margin: 20px 0 20px 0;
      }

      .form-label {
        font-weight: 500;
        font-size: 14pt;
        color: #5A3E2B;
      }

      .form-title {
        font-weight: 700;
        font-size: 46px;
        color: #5A3E2B;
        font-family: 'Poppins';
      }
    </style>
  </head>
  <body>

    <div id="formContainer">
      <ul id="errorList"></ul>

      <!-- <input type="hidden" name="reviewId" /> -->
      <div class="formRow">
        <label class="form-title">The Tasty Chronicles</label>
      </div>
      <div class="formRow">
        <label class="form-label">Name of Shop</label>
        <input type="text" class="form-control" name="shopName"/>
      </div>
      <div class="formRow">
        <label class="form-label">Dish Name</label>
        <input type="text" class="form-control" name="dishName"/>
      </div>
      <div class="formRow">
        <label class="form-label">Price Point</label>
        <div class="form-check">
          <input
            type="radio"
            class="form-check-input priceRadio"
            value="what-a-steal"
            name="price"
          />
          <label class="form-check-label">What a steal! &#128518</label>
        </div>
        <div class="form-check">
          <input
            type="radio"
            class="form-check-input priceRadio"
            value="decent"
            name="price"
          />
          <label class="form-check-label">Decent &#128524</label>
        </div>
        <div class="form-check">
          <input
            type="radio"
            class="form-check-input priceRadio"
            value="kinda-pricey"
            name="price"
          />
          <label class="form-check-label">Kinda Pricey &#128176</label>
        </div>
        <div class="form-check">
          <input
            type="radio"
            class="form-check-input priceRadio"
            value="im-feeling-rich"
            name="price"
          />
          <label class="form-check-label">I'm Feeling Rich &#128184</label>
        </div>
      </div>
      <div class="formRow">
        <label class="form-label">Type of Cuisine</label>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="cuisine"
            value="asian"
          />
          <label class="form-check-label">Asian</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="cuisine"
            value="european"
          />
          <label class="form-check-label">European</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="cuisine"
            value="middle-eastern"
          />
          <label class="form-check-label">Middle Eastern</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="cuisine"
            value="american"
          />
          <label class="form-check-label">American</label>
        </div>
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            name="cuisine"
            value="others"
          />
          <label class="form-check-label">Others</label>
        </div>
      </div>
      <div class="formRow">
        <label class="form-label">Descriptive Review</label>
        <input type="text" class="form-control" name="descReview"/>
      </div>
      <div class="formRow">
        <label class="form-label">Overall Rating</label>
        <select name="rating" id="ratingSelect" class="form-select">
          <option>1 ★</option>
          <option>2 ★</option>
          <option>3 ★</option>
          <option>4 ★</option>
          <option>5 ★</option>
        </select>
      </div>
      <button type="button" id="submitButton" class="btn btn-primary">
        Submit Review
      </button>
      <!-- <div class="container">
        <h1 class="mb-3">Saved Reviews</h1>
        <div class="row" id="reviewList"></div>
      </div> -->
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script>
      window.addEventListener("load", function() {

        function resetPage() {}

        function createReview() {}

        function editReview() {}

        function deleteReview() {}

        let button = document.getElementById("submitButton")
        button.addEventListener("click", function() {
          // Criteria
          // Name of shop: (1) Cannot be empty (2) Must be more than 5 characters
          let shopNameIsEmpty = false;
          let shopNameTooShort = false;
          // Dish Name: Cannot be empty 
          let dishNameIsEmpty = false;
          // Price Point: Cannot be empty
          let priceIsEmpty = false;
          // Type of Cuisine: Must choose at least 1 cuisine
          let cuisineTooLittle = false;

          // Clear the Error List
          let errorList = document.getElementById("errorList");
          errorList.innerHTML = "";

          // Drawing out the .values and changing the flags (where necessary)
          let shopNameElement = document.querySelector("input[name='shopName']");
          let shopName = shopNameElement.value;
          if (shopName == "") {
            shopNameIsEmpty = true;
          }
          if (shopName.length <= 5) {
            shopNameTooShort = true;
          }

          let dishNameElement = document.querySelector("input[name='dishName']");
          let dishName = dishNameElement.value;
          if (dishName == "") {
            dishNameIsEmpty = true;
          }

          let priceRadioElement = document.querySelector(".priceRadio:checked");
          let chosenPrice;
          if(priceRadioElement == null) {
            priceIsEmpty = true
          } else {
            chosenPrice = priceRadioElement.value
          }

          let chosenCuisineElement = document.querySelectorAll("input[name='cuisine']:checked");
          let chosenCuisine = [];
          for(let i=0; i<chosenCuisineElement.length; i++) {
            chosenCuisine.push(chosenCuisineElement[i].value)
          }
          if(chosenCuisine.length < 1) {
            cuisineTooLittle = true
          }

          let descReviewElement = document.querySelector("input[name='descReview']");
          let descReview = descReviewElement.value;

          let ratingElement = document.getElementById("ratingSelect")
          let chosenRating = ratingElement.value

          // Add to the error message
          if(shopNameIsEmpty == true) {
            errorList.innerHTML += "<li class='errorMessage'>Shop Name cannot be empty!</li>"
          }
          if(shopNameTooShort == true) {
            errorList.innerHTML += "<li class='errorMessage'>Shop Name cannot be too short!</li>"
          }
          if(dishNameIsEmpty == true) {
            errorList.innerHTML += "<li class='errorMessage'>Dish Name cannot be empty!</li>"
          }
          if(priceIsEmpty == true) {
            errorList.innerHTML += "<li class='errorMessage'>Price Point cannot be empty!</li>"
          }
          if(cuisineTooLittle == true) {
            errorList.innerHTML += "<li class='errorMessage'>Cuisine Types cannot be too little!</li>"
          }

          // If no error, create review
          if(shopNameIsEmpty == false &&
            shopNameTooShort == false &&
            dishNameIsEmpty == false &&
            priceIsEmpty == false &&
            cuisineTooLittle == false
          ) {
            // Form is valid; create review and reset form
          }
        })
      })
    </script>
  </body>
</html>
